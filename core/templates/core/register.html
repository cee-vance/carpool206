{% extends "core/base.html" %}

{% block title %}Register{% endblock %}

{% block content %}
<div class="register-container">
    <h2>Sign Up</h2>

    <form method="POST" enctype="multipart/form-data" id="register-form">
        {% csrf_token %}
        <label for="username">Username:</label>
        {{ form.username }}

        <label for="email">Email:</label>
        {{ form.email }}

        <label for="password1">Password:</label>
        {{ form.password1 }}

        <label for="password2">Confirm Password:</label>
        {{ form.password2 }}

        <label for="profile_picture">Profile Picture:</label>
        {{ form.profile_picture }}

        <label for="social_links">Social Media Links:</label>
        {{ form.social_links }}

        <button type="button" id="show-disclaimer">Register</button>
    </form>
</div>

<!-- Popup Disclaimer -->
<div id="disclaimer-popup" class="popup">
    <div class="popup-content">
        <h3>Carpool App Disclaimer</h3>
        <p><strong>Last Updated:</strong> [Insert Date]</p>

        <p>The Carpool App provides a platform for users to connect for carpooling purposes. However, the app <strong>does not verify</strong> the identity, reliability, or suitability of users. It is <strong>your responsibility</strong> to use good judgment when arranging and participating in carpooling with others.</p>

        <p>The Carpool App <strong>is not responsible</strong> for any incidents, disputes, damages, injuries, losses, or other negative consequences that may result from interactions or travel arrangements made through the app.</p>

        <p><strong>By clicking "I Agree & Register," you acknowledge and accept these terms.</strong></p>

        <button id="accept-disclaimer">I Agree & Register</button>
        <button id="close-disclaimer">Cancel</button>
    </div>
</div>

{% endblock %}

{% block extra_scripts %}
<script>
    document.getElementById("show-disclaimer").addEventListener("click", function() {
        document.getElementById("disclaimer-popup").style.display = "block";
    });

    document.getElementById("accept-disclaimer").addEventListener("click", function() {
        document.getElementById("register-form").submit();
    });

    document.getElementById("close-disclaimer").addEventListener("click", function() {
        document.getElementById("disclaimer-popup").style.display = "none";
    });
</script>

<style>
    .popup {
        display: none;
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: white;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    .popup-content {
        text-align: center;
    }
    .popup button {
        margin: 10px;
        padding: 10px;
        cursor: pointer;
    }
</style>
{% endblock %}
